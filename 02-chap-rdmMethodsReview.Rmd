# A review of quantitative methods for identifying ecological regime shifts in ecological communities {#chapter-rdmMethodsReview}   

## Introduction
There is a disparity among the number of methods proposed for detecting ecological regime shifts and those used by practitioners. Despite the availability of qunatitative methods and other models for detecting abrupt shifts in numerical observations in other fields, new methods are continuously introduced into the ecological literature, often independent of methods already well-developed in other fields [@ref(andersen_xxx_YYYY)]. Insert and example of a method that could be used in ecology but is alrewady well-developed in another field. Perhaps exacerbating the lack of application of existing methods is the paucity of studies applying these methods to empirical systems data. 

In this chapter, I synthesis the regime shift literature as it relates to quantitative methods for identifying regime shifts (regime detection methods, RDMs) and provide the following:
  1. Existing RDMs    
    - in ecological journals  
    - whether they were introduced using empirical data  
  1. RDMs existing in other literatures that aren't in ecological literature  
  1. Provide a list of reviews related to RDMs in ecology  
  
It is my hope that this chapter will stimulate discussion of the utility of existing methods, and whether efforts may be most usefully funneled into developing new methods, refining existing methods, or borrowing existing methods from other fields. 
    
## Existing RDMs in ecological literature

I reviewed the ecological literature for RDMs using Web of Science (Web of Knowledge).


### Methods
Web of Science Search:
#### Boolean search
- Topic (TS)=("regime shift" or "regime change" or "abrupt shift" or "abrupt change" or "threshold" or "break point" or "change point" or "change-point" or "tipping point" or "structural change" or "observational inhomogeneity") AND method AND (ecology or ecological or environment or environmental)))  
- Document types = Article   
- Refined by: WEB OF SCIENCE CATEGORIES: ( ENVIRONMENTAL SCIENCES OR ECOLOGY ) AND WEB OF SCIENCE CATEGORIES: ( ENVIRONMENTAL SCIENCES OR ECOLOGY )  
- Timespan: All years. Indexes: SCI-EXPANDED, SSCI, A&HCI, CPCI-S, CPCI-SSH, BKCI-S, BKCI-SSH, ESCI, CCR-EXPANDED, IC.  
##### Notes on the boolean search in WOS
- Including the term threshold in TS search greatly widened the breadth of our results, yielding thousands of results. Many articles of which were in engineering, biomedical sciences, etc. (irrelevant).
- Adding the work "shift or change" into the title helped a lot.

#### Removing/retaining papers from search
```{r filterMethodsResults, echo=F, eval=T, cache = T, message=F, warning=F}
# Load and munge lit review data
## Read in the bib results from WOS search
bib <-
  readr::read_csv(paste0(
    here::here(),
    "/chapterFiles/rdmReview/wosresults_20190205_newMethods.csv"
  ))

## Filter results: Keep papers with to 'regime shifts' (and synonyms) in abstract or title
topicFilter <-
remove.list <-
paste(
c(
"regime shift",
"regime change",
"abrupt shift",
"abrupt change",
"threshold",
"observational inhomogeneity",
"structural",
"tipping point",
"boundary"
),
collapse = '|'
)

bib <- bib %>% dplyr::filter(grepl(topicFilter, TI) |
grepl(topicFilter, AB))

## Filter results 2: Keep only those with reference to a method or framework in abstract or title
topicFilter2 <- paste(c("method", "framework"), collapse = '|')
bib <- bib %>% dplyr::filter(grepl(topicFilter2, TI) |
                               grepl(topicFilter2, AB))

## Filter results 3: Keep only relevant publications (SO)
topicFilter3 <- paste(c("ecology", "ecography", "environ"), collapse = '|') %>% toupper()
bib <- bib %>% dplyr::filter(grepl(topicFilter3, SO))

## Download top 50 ecology journals (SJR)
tempFolder <- tempdir()
download.file("https://www.scimagojr.com/journalrank.php?category=2303&type=j&out=xls", 
              destfile = paste0(tempFolder,"/", "mySJRdata.csv"))#, method = "curl")
list.files(tempFolder)

topJrnls <-  read.csv(paste0(tempFolder, "/mySJRdata.csv"), header = T, sep=";") %>% dplyr::filter(SJR.Quartile == "Q1"|
                                   SJR.Quartile == "Q2"                                                                  ) %>%
  dplyr::select(Rank, Title) %>% 
  rename(SO = Title) %>% 
  mutate(SO = toupper(SO)) %>% 
  mutate(SO = str_replace(SO, " AND ", " & "))

## Filter bib by the 1st Quartile of SJR-ranked ecology journals (currently based on year 2017)
bib.keep <- bib %>% dplyr::filter(SO %in% topJrnls$SO)
```

```{r plotLitReview, echo=F, eval=T, cache = T, message=F, warning=F}
# Visualize results

## Plot the # of papers over time
bib.keep <- bib.keep %>% dplyr::select(AU, TI, PY, SO) %>% as_tibble() %>% 
  mutate(SO = as.factor(SO)) 

## Number of articles annually
ggplot(bib.keep %>% 
  group_by(SO) %>% 
  mutate(N = n())) + 
  geom_point(aes(x = PY, y = N, color = SO)) +
  ylab('number of articles')+xlab('publication title')+
  theme_bw()  

## Distribution across journals over all years
ggplot(bib.keep %>%
         group_by(SO, PY) %>%
         mutate(N = n()) %>% ungroup() %>%
         distinct(SO, N) %>%
         # filter(N > 1) %>%
         arrange(N)) +
  geom_bar(aes(x = SO, y = N), stat = 'identity') +
  ylab('number of articles \n (1900 to 2018)') + xlab('publication title') +
  theme_bw() + theme(axis.text.x = element_text(angle = 35, hjust = 1, size = 6))


```

### WOS Search results
The initial search prior to filtering by abstract yielded (see wosResults_20190205.xls) __1209__ articles.

We removed articles containing 

## Existing RDM and related review articles


## RDMs not yet explored for ecological data


Identifying historic ecolgoical regime changes has been achieved using post-hoc analyitcal approaches Methods for reliably forecasting and predicting these changes are less common. Although numerous quantitative methods exist for detecting ecological regime shifts, new methods are proposed for achieving this aim ata  XXX rate (*insert figure of number of papers per year with new methods*). These methods have proven useful in detecting shifts in atmospheric and fisheries catch data, and in systems that are well-described by a few state variables, or can be modelled reliably with matheamtical equations. Because ecological comunities are more complex than, say, a simple Lotka-Volterra predator prey system, the set of reliable regime shift detection methods narrows. 

Ecological and social-ecolgical systems have many unpredictable and variably interacting components. Quantitative models and methods are available for analyzing complex systems, but often require more data than is typically available in ecological reserach and management. Hence, tracking the changes in ecological systems is rarely done so using multiple variables. 

A survey of the methods available for detecting ecological regime shifts in high dimensional data is timely. Although multiple reviews of regime shift indicators exist, Recent reviews of regime shift indicators (Andersen et al, the others) are outdated, are not comprehensive (include only a subset of the available RSDMs), and do not provide recommendations for which events, systems, or data characterstics are appropriate for these methods. 

Some RSDMs are proposed for and are subsequently applied to data having specific characteristics, while others are proposed to be useful in multiple systems and on data of varying characterstics (e.g., Karunithi et al; Mayer 2007; Eason). This review provides a summary of the available methods and evaluates the appropriateness of these methods to data of varying character, quality, and quantity.

This paper compiles a plethorra of quantitative methods proposed as regime detection methods for ecological data. We discuss the relevant characteristics of the data/information that are required for each method, and how these characterstics may help or hinder the ecologists' interpretation of the analytical results. We pay special attention to the RSDMs that are most appropriate for  analysis of high dimensional and noisy ecological data. 


## Methods
### Identifying papers/RSDMs in the literature
I used the following databases to identify scholarly works that introduce and/or explain methods for identfying regime shifts:
1. Web of Science
    i. __Database searches*  
          a. Boolean (+ = asterisk in the database search)  
                i. WOS:   
                ii. SCOPUS:  ( TITLE-ABS-KEY ( ( approach  OR  analysis  OR  metric  OR  method^ )  AND  ( detect^  OR  predict^ ) )  AND  TITLE-ABS-KEY ( {regime shift}  OR  {regime change}  OR  {abrupt change} ) ) __1,473__ (where ^== __ in Scopus) 
    ii. __Opportunistic papers__  
          a. We used expert opinion (authors JLB, etc.) to identify any missing RSDMs that were not detected in our formal database searches. (i am making this next part up--need to double check once i have results)-->These papers are are typically found in the grey literature, or are published in journals not obvious to the general ecologist (e.g., name an obscure journal here).  
          b. Justification for our database searches containing some of these methods which are known/obvious to the author(s).  

2. Procedures for filtering the papers.     
    i. We removed duplicate titles (from the merging of Scopus and WOS), which resulted in _______ unique scholarly works.    
    i. We read the abstracts of each paper to determine the following:    
          a. Was this a new method being proposed or used? (if yes, proceed to ii.))    
          b. Was this just a case study or another application of a previously published method? (if yes, note the method(s) used and identify original method(s) source)      
          c. If this paper was an application of a method, we noted the method, and identified the orignal source for the method (if possible)  
    ii. Identify characteristics of the method  
        c. It is model-based?  
        a. Does it require a mathematical model?
        b. Does it require *a priori* knowledge of the regime shift
        d. Does it forecast or provide predicitons?
        e. Assumptions required (e.g., discontinuity, step functions, normality of response vars)
    iii. Identify requirements for the data input
        a. Require equal spacing b/w observations?
        b. Minimum # data points required to use?
        c. Minimum # of state variables required?
    iv. Identify the characteristics of the data USED to demonstrate the method
        a. Spatial resolution and extent
        b. Temporal resolution and extent
        c. Number of state variables 
        d. System type 
          i. Whole-system vs. selected variables?
          ii. Experimental system or observational/passive
3. Note the number of times the paper has been cited
  

## Results

We identified _______ number of quantiattive anlaytical approaches to identifying regime shifts and abrupt changes in data. 

### Potential figures

1. X = year Y = number of publications for *new* RSDMs in the ecol/env literature
1. X = year Y = # pubs for new RSDM appropriate for multidimensional systems


### Potential tables

<!-- \newpage -->
<!-- \blandscape -->
<!-- ```{r  echo=FALSE, message=FALSE, warnings=FALSE, label = "characteristicsResults"} -->
<!-- colNames <- t(c('Authors', "Year of Publication", "Dimensionality of data", "Longitudinality of data", "Method applied")) -->

<!-- knitr::kable( -->
<!--   colNames, longtable = TRUE, booktabs = TRUE, -->
<!--   caption = 'Data structure and analytical procedures characteristics fo the selected studies.' -->
<!-- ) -->

<!-- ``` -->
<!-- \elandscape -->

## Discussion 

1. Major findings of the review. 
1. What major assumptions are we currently making about the data and the system that we need to know more about moving forward? i.e., where are the gaps in knowledge?
1. How has or how can we take advantage of unstructured or semi-structured data to ID regime shifts?
1. How can or should we adapt our monitoring schemes to better suit these (or at least the seemingly helpful) analyses?
1. What about identifying the drivers behind the shifts? 
1. Which methods posit they can identify the, or potential, drivers of the state changes? Which have shown it?

Potential text: 
1. Climate change is expected to induce an increase in both the intensity and frequency of rapid ecological change or disturbance, impacting social systems, potentially to the detriment of human communities most vulnerable. Identifying and forecasting these changes is critical for community and ecological planning, management, and disaster mitigation. 

1. Because ecological and social systems are tightly coupled, we have used indicators in the environment and in wildlife communities to identify change and potential changes that may impact our social communities. 

1. Many regime shift analytical papers suggest that, using multiple quantitative methods to provide for evidence for a regiem shift in a specific data set is necessary or is acceptable. Although this proposition is valid, comparing results within a single system using multiple methods has often yielded varying results. Managing systems using quantitative methods that yield different results may yield improper management techniques and objectives. 

